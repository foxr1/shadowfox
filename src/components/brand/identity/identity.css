.identity-row {
    display: flex;
    flex-direction: row;
    justify-content: space-between;
    width: 100%;
    gap: 40px;
}

.identity-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    flex: 1;
}

.logotype {
    font-family: var(--title-font);
    color: var(--burnt-negroni);
    /* Use container query units or viewport units that approximate the box width */
    /* Since the box is flex: 1 in a row of 3 with gaps, we can estimate */
    font-size: 2.5vw;
    white-space: nowrap; /* Prevent line breaks */
    width: 100%;
    text-align: center;

    /* Fluid typography to fit container */
    container-type: inline-size;
}

.identity-title {
    font-family: var(--heading-font);
    font-size: 1rem;
    color: var(--tertiary-text-colour);
    margin-bottom: 15px;
    text-transform: uppercase;
    letter-spacing: 0.05em;
}

.identity-box {
    display: flex;
    justify-content: center;
    align-items: center;
    width: 100%;
    height: 150px;
    background-color: var(--transparent-text-colour);
    border: 1px solid var(--quinary-text-colour);
    border-radius: 4px;
    transition: border-color 0.3s ease;

    /* Ensure content doesn't overflow */
    overflow: hidden;
    padding: 0 10px; /* Add some padding so text doesn't touch edges */
    box-sizing: border-box;

    /* Enable container queries for children */
    container-type: inline-size;
    container-name: identity-box;
}

.brandmark-img {
    height: 80%;
    width: auto;
    object-fit: contain;
}

/* Use container query units to scale text relative to the box width */
@container identity-box (min-width: 0px) {
    .logotype {
        font-size: 15cqw; /* Scale based on container width */
    }
}

.identity-box:hover {
    border-color: var(--quaternary-text-colour);
}

/* Delays */
.brand-section.visible .identity-item:nth-child(1) { transition-delay: 0.1s; }
.brand-section.visible .identity-item:nth-child(2) { transition-delay: 0.3s; }

@media (max-width: 768px) {
    .identity-row {
        flex-direction: column;
        gap: 30px;
    }

    /* On mobile, the box is full width, so we adjust the scale if needed */
    /* The container query should handle it, but we can fine tune */
}